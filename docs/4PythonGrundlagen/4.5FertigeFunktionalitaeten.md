# 4.5 Fertige Funktionalit√§ten verwenden

Hier lernen wir einen kleinen Ausschnitt der M√§chtigkeit der Programmiersprache Python kennen. 


## üß∞ Eingebaute Funktionen in Python

Python bietet eine Vielzahl eingebauter Funktionen, die h√§ufige Aufgaben erleichtern. Im Folgenden sind einige dieser Funktionen thematisch gruppiert mit ihren Parametern und Anwendungsbeispielen aufgef√ºhrt.

### Iteration

| Funktion       | Parameter                          | Beschreibung                                                                 | Beispiel                                      |
|----------------|------------------------------------|-------------------------------------------------------------------------------|-----------------------------------------------|
| `range()`      | `start` (optional), `stop`, `step` (optional) | Erzeugt eine Sequenz von Zahlen von `start` bis `stop` (exklusiv) mit dem Schritt `step`. | `range(1, 10, 2)` erzeugt `[1, 3, 5, 7, 9]`   |

### Umwandlungen

| Funktion  | Beschreibung                                                                 | Beispiel                                      |
|-----------|------------------------------------------------------------------------------|-----------------------------------------------|
| `int()`   | Wandelt in eine Ganzzahl um.                                      | `int('10.6')` gibt `10` zur√ºck                |
| `float()` | Wandelt in eine Gleitkommazahl um.                                | `float('3.14')` gibt `3.14` zur√ºck            |
| `str()`   | Wandelt in eine Zeichenkette um.                                  | `str(100)` gibt `'100'` zur√ºck                |
| `bool()`   | Wandelt ein Element in einen Booleschen Wert um.                              | `bool(1)` gibt `True` zur√ºck                  |
| `list()`  | Wandelt  in eine Liste um.                            | `list('abc')` gibt `['a', 'b', 'c']` zur√ºck   |
| `dict()`  | Erstellt ein W√∂rterbuch.                                                     | `dict(a=1, b=2)` gibt `{'a': 1, 'b': 2}` zur√ºck |
| `join()`  | Verbindet eine Liste von Strings zu einem String mit einem Trennzeichen.     | `' '.join(['Hallo', 'Welt'])` gibt `'Hallo Welt'` zur√ºck |
| `split()` | Zerlegt einen String anhand eines Trennzeichens in eine Liste von Teilstrings. | `'MicroPython ist gro√üartig'.split(' ')` gibt `['MicroPython', 'ist', 'gro√üartig']` zur√ºck |

### Aggregation und Reduktion

| Funktion | Beschreibung                                                   | Beispiel                                      |
|----------|----------------------------------------------------------------|-----------------------------------------------|
| `sum()`  | Gibt die Summe der Elemente zur√ºck.     | `sum([1, 2, 3])` gibt `6` zur√ºck              |
| `min()`  | Gibt das kleinste Element zur√ºck.                              | `min(3, 1, 2)` gibt `1` zur√ºck                |
| `max()`  | Gibt das gr√∂√üte Element zur√ºck.                                | `max(3, 1, 2)` gibt `3` zur√ºck                |
| `all()`  | Gibt `True` zur√ºck, wenn alle Elemente wahr sind.              | `all([True, True, False])` gibt `False` zur√ºck |
| `any()`  | Gibt `True` zur√ºck, wenn mindestens ein Element wahr ist.      | `any([False, False, True])` gibt `True` zur√ºck |

### Sonstige Funktionen

| Funktion   | Beschreibung                                                                 | Beispiel                                      |
|------------|------------------------------------------------------------------------------|-----------------------------------------------|
| `strip()`  | L√∂scht Leerzeichen am Anfang und Ende eines Strings, z.B. bei `input()`      | eingabe = `strip(input())`             |
| `len()`    | Gibt die Anzahl der Elemente zur√ºck.                                         | `len([1, 2, 3])` gibt `3` zur√ºck              |
| `type()`   | Gibt den Typ eines Elements zur√ºck.                                          | `type(42)` gibt `<class 'int'>` zur√ºck        |
| `abs()`    | Gibt den absoluten Wert einer Zahl zur√ºck.                                   | `abs(-5)` gibt `5` zur√ºck                     |
| `round()`  | Rundet eine Zahl auf die angegebene Anzahl von Dezimalstellen.               | `round(3.14159, 2)` gibt `3.14` zur√ºck        |
| `sort()`   | Sortiert eine Liste direkt (in-place), d.‚ÄØh., die urspr√ºngliche Liste wird ver√§ndert. | Siehe Beispiel unten |
| `sorted()` | Gibt eine neue, sortierte Liste zur√ºck, ohne die urspr√ºngliche Liste zu ver√§ndern. Dies ist besser und stabiler! | Siehe Beispiel unten |
| `map()`    | Wendet eine Funktion auf jedes Element eines iterierbaren Objekts an.        | `list(map(str, [1, 2, 3]))` gibt `['1', '2', '3']` zur√ºck |

**Beispiel sort() und sorted()**

```python linenums="1"
# Verwendung von sort() - ver√§ndert die urspr√ºngliche Liste
meineListe = [5, 3, 8, 1, 2]  # urspr√ºngliche Liste
meineListe.sort()  # jetzt ist meineListe sortiert.
print(f"Sortiert (In-Place): {meineListe}")

# R√ºckw√§rtssortierung mit sort()
meineListe.sort(reverse=True)  # Sortiert die Liste r√ºckw√§rts in-place
print(f"R√ºckw√§rtssortiert (In-Place): {meineListe}")

# Verwendung von sorted() - erzeugt eine neue sortierte Liste
originalListe = [7, 4, 9, 3, 6]
sortierteListe = sorted(originalListe)  # Erstellt eine neue sortierte Liste
print(f"OriginalListe: {originalListe}")  # Unver√§ndert
print(f"Sortierte Liste: {sortierteListe}")  # Sortiert

# R√ºckw√§rtssortierung mit sorted()
rueckwaertsSortierteListe = sorted(originalListe, reverse=True)  # Erstellt eine neue r√ºckw√§rtssortierte Liste
print(f"R√ºckw√§rtssortierte Liste: {rueckwaertsSortierteListe}")
```

*Ausgabe:*<br>
*Sortiert (In-Place): [1, 2, 3, 5, 8]*<br>
*R√ºckw√§rtssortiert (In-Place): [8, 5, 3, 2, 1]*<br>
*OriginalListe:  [7, 4, 9, 3, 6]*<br>
*Sortierte Liste: [3, 4, 6, 7, 9]*<br>
*R√ºckw√§rtssortierte Liste: [9, 7, 6, 4, 3]*


??? example "Nerdwissen map()"

    | Funktion   | Beschreibung                                                                 | Beispiel                                      |
    |------------|------------------------------------------------------------------------------|-----------------------------------------------|
    | `map()`    | Wendet eine Funktion auf jedes Element eines iterierbaren Objekts an.        | Siehe Beispiel unten |


    Schauen Sie sich das Beispiel in Ruhe an, denn map() ist richtig gut!

    ```python linenums="1"
    # Eine Funktion, um die Quadrate einer Zahl zu berechnen
    def SquareNumber(x):
        return x ** 2

    # Liste von Zahlen
    numberList = [1, 2, 3, 4, 5]

    # Verwenden von map() mit SquareNumber-Funktion
    squaredList = list(map(SquareNumber, numberList))

    print(f"OriginalList: {numberList}")
    print(f"SquaredList: {squaredList}")
    ```
    
    *Ausgabe:*<br>
    *OriginalList: [1, 2, 3, 4, 5]*<br>
    *SquaredList: [1, 4, 9, 16, 25]*

## üß™ Listen in Strings umwandeln und umgekehrt in MicroPython

In MicroPython, wie auch in Python, ist die Konvertierung zwischen Listen und Zeichenketten eine h√§ufige Aufgabe. Im Folgenden werden Methoden vorgestellt, um Listen in Strings und umgekehrt umzuwandeln.

#### Liste in String umwandeln

Um eine Liste von Zeichenketten in einen einzelnen String zu konvertieren, verwendet man die Methode **`join()`**. Diese Methode verbindet die Elemente der Liste zu einem String, wobei ein spezifisches Trennzeichen zwischen den Elementen eingef√ºgt wird. Im folgenden Beispiel werden die Elemente der Liste `wortListe` mit einem Leerzeichen verbunden. Das Ergebnis ist der String `'Hallo Welt von MicroPython'`.

```python linenums="1"
# Liste von W√∂rtern
wortListe = ['Hallo', 'Welt', 'von', 'MicroPython']

# Verbinden der Liste zu einem String mit Leerzeichen als Trennzeichen
verbundenerString = ' '.join(wortListe)

print(verbundenerString)
```

*Ausgabe:* <br>
Hallo Welt von MicroPython



**Hinweis:** Die Methode `join()` erwartet, dass alle Elemente der Liste vom Typ `str` sind. Falls die Liste andere Datentypen enth√§lt, m√ºssen diese zuvor in Strings umgewandelt werden.

```python linenums="1"
# Liste mit verschiedenen Datentypen
gemischteListe = ['Temperatur:', 23, 'Grad']

# Umwandlung aller Elemente in Strings
stringListe = []
for element in gemischteListe:
    element = str(element)
    stringListe.append(element)

# Verbinden der Liste zu einem String mit Leerzeichen als Trennzeichen
verbundenerString = ' '.join(stringListe)

print(verbundenerString)
```
*Ausgabe:* <br>
Temperatur: 23 Grad


??? example "Nerdwissen for-Schleife in einer Zeile"
    Folgende Scripte erzeugen die gleiche Ausgabe.

    ```python linenums="1" hl_lines="5-8"
    # Liste mit verschiedenen Datentypen
    gemischteListe = ['Temperatur:', 23, 'Grad']

    # Umwandlung aller Elemente in Strings
    stringListe = []
    for element in gemischteListe:
        element = str(element)
        stringListe.append(element)

    # Verbinden der Liste zu einem String mit Leerzeichen als Trennzeichen
    verbundenerString = ' '.join(stringListe)

    print(verbundenerString)
    ```

    ```python linenums="1" hl_lines="5"
    # Liste mit verschiedenen Datentypen
    gemischteListe = ['Temperatur:', 23, 'Grad']

    # Umwandlung aller Elemente in Strings
    stringListe = [str(element) for element in gemischteListe]

    # Verbinden der Liste zu einem String mit Leerzeichen als Trennzeichen
    verbundenerString = ' '.join(stringListe)

    print(verbundenerString)
    ```


### String in Liste umwandeln

Um einen String in eine Liste von Teilstrings zu zerlegen, verwendet man die Methode `split()`. Diese Methode teilt den String an einem angegebenen Trennzeichen und gibt die Teilstrings als Listenelemente zur√ºck. Wenn kein Trennzeichen an `split()` √ºbergeben wird, wird standardm√§√üig an Leerzeichen, Tabulatoren und Zeilenumbr√ºchen aufgeteilt.

```python linenums="1"
# String mit W√∂rtern
satz = 'MicroPython ist gro√üartig'

# Aufteilen des Strings in eine Liste von W√∂rtern
wortListe = satz.split(' ')

print(wortListe)
```

*Ausgabe:*<br>
['MicroPython', 'ist', 'gro√üartig']


**Zeichenkette in Liste von Zeichen umwandeln:**

Um einen String in eine Liste von einzelnen Zeichen zu zerlegen, kann die Funktion `list()` verwendet werden.

**Beispiel:**

```python linenums="1"
# String
wort = 'MicroPython'

# Umwandeln des Strings in eine Liste von Zeichen
zeichenListe = list(wort)

print(zeichenListe)
```

**Ausgabe:** ['M', 'i', 'c', 'r', 'o', 'P', 'y', 't', 'h', 'o', 'n']


In diesem Fall wird der String `wort` in seine einzelnen Zeichen zerlegt und als Liste zur√ºckgegeben.

Diese Methoden erm√∂glichen eine flexible Handhabung von Strings und Listen in MicroPython und sind n√ºtzlich f√ºr verschiedene Anwendungsf√§lle, wie z.‚ÄØB. das Parsen von Eingaben oder das Formatieren von Ausgaben.

Folgende Python-Funktionen haben wir somit kennen gelernt:

| Funktion       | Beschreibung                                                                                     | Beispiel                                                                                             | Ausgabe                           |
|----------------|--------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------|-----------------------------------|
| `join()`       | Verbindet eine Liste von Strings zu einem einzelnen String mit einem definierten Trennzeichen.   | `' '.join(['Hallo', 'Welt'])`                                                                        | `'Hallo Welt'`                    |
| `split()`      | Zerlegt einen String in eine Liste von Teilstrings anhand eines definierten Trennzeichens.       | `'MicroPython ist gro√üartig'.split(' ')`                                                             | `['MicroPython', 'ist', 'gro√üartig']` |
| `list()`       | Wandelt einen String in eine Liste einzelner Zeichen um.                                         | `list('MicroPython')`                                                                                | `['M', 'i', 'c', 'r', 'o', 'P', 'y', 't', 'h', 'o', 'n']` |


## üìù Aufgabe: Kombination von Zahlenlisten addieren

!!! question "√úbung"
    Gegeben sind zwei Listen von Zahlen:

    ```
    NumberA = [1, 2]
    NumberB = [5, 6]
    ```

    Schreibe ein Programm, das jede Zahl aus `NumberA` mit jeder Zahl aus `NumberB` kombiniert und die Summe ausgibt. Die Ausgabe soll das Format `1 + 5 = 6` haben.

    **Erwartete Ausgabe:**<br>
    1 + 5 = 6 <br>
    1 + 6 = 7 <br>
    2 + 5 = 7 <br>
    2 + 6 = 8<br>

    ??? L√∂sung
        ```python linenums="1"
        NumberA = [1, 2]
        NumberB = [5, 6]

        for n in NumberA:
            for m in NumberB:
                print(n, " + ", m, " = ", n + m) # oder besser print(f"{n} + {m} = {n + m}")
        ```

---


## üé≤ Arbeiten mit Zufallszahlen - Lottozahlen 6 aus 49

Versuchen Sie den Soucecode zu verstehen.


```python linenums="1"
import random

# Erstelle eine Liste von Zahlen von 1 bis 49
zahlenListe = list(range(1, 50))

# Liste zum Speichern der gezogenen Lottozahlen. 
# Die Erstellung einer leeren Liste ist ein wichtiges Konzept!
lottoZahlen = []

# Ziehe 6 verschiedene Zahlen
for _ in range(6):
    
    # W√§hle zuf√§llig eine Zahl aus der Liste
    gezogeneZahl = random.choice(zahlenListe)
    # F√ºge die gezogene Zahl zur Lottozahlen-Liste hinzu
    lottoZahlen.append(gezogeneZahl)
    # Entferne die gezogene Zahl aus der Liste, damit sie nicht erneut gezogen wird
    zahlenListe.remove(gezogeneZahl)

# Sortiere die gezogenen Lottozahlen zur besseren √úbersicht
lottoZahlen.sort()

# Ausgabe der gezogenen Lottozahlen
print(f"Die gezogenen Lottozahlen sind: {lottoZahlen}")
```


??? example "Nerdwissen Eine kleine Knobelaufgabe..."
    Wie funktioniert dieser Sourcecode?

    Wenn man nicht weiterkommt, dann kann man immer konkrete Werte einsetzen (und sich zum Beispiel auch Zufallszahlen ausdenken). Schwierige Zeilen durch das Hinzuziehen der Dokumentation (oder ChatGPT, wobei die Dokumentation f√ºr das tiefere Verst√§ndnis oft der bessere Weg ist). Im Sourcecode unten hatten wir z.B. range() noch nicht mit drei Argumenten. [Die Dokumentation zu range() findet sich hier](https://docs.python.org/3/library/stdtypes.html#range).

    ```python linenums="1"
    import random

    # Programm zur zuf√§lligen Anordnung sortierter Zahlen
    print("Wie viele zuf√§llige Zahlen sollen generiert werden?")
    anzahlZahlen = int(input("Bitte Anzahl eingeben: "))

    # Liste zum Speichern zuf√§llig generierter Zahlen
    zahlenListe = []

    # Generiere die gew√ºnschte Anzahl zuf√§lliger Zahlen und f√ºge sie zur Liste hinzu
    for _ in range(anzahlZahlen):
        zufallsZahl = random.randint(1, 1000)
        zahlenListe.append(zufallsZahl)

    # Ausgabe der generierten Zufallszahlen

    print(f"Wir haben folgende Zufallszahlen gezogen: {zahlenListe}")
    # Eigene Funktion, um die Liste zuf√§llig zu mischen
    def customShuffle(liste):
        for i in range(len(liste) - 1, 0, -1):
            j = random.randint(0, i)
            liste[i], liste[j] = liste[j], liste[i]

    # Sortier-Check-Variable und Versuchsz√§hler initialisieren
    istSortiert = False
    anzahlVersuche = 0

    # Zuf√§lliges Mischen und √úberpr√ºfung, ob die Liste sortiert ist
    while not istSortiert:
        # Zuf√§lliges Anordnen der Liste mit customShuffle
        customShuffle(zahlenListe)
        istSortiert = True  # Annahme, dass die Liste sortiert ist
        
        # Gehe durch die Liste und √ºberpr√ºfe, ob sie wirklich sortiert ist
        for i in range(len(zahlenListe) - 1):
            if zahlenListe[i] > zahlenListe[i + 1]:
                istSortiert = False  # Wenn ein Element gr√∂√üer als das n√§chste ist, ist die Liste nicht sortiert
                break  # √úberpr√ºfung kann abgebrochen werden, Liste ist unsortiert

        # Versuchsz√§hler erh√∂hen und Liste ausgeben
        anzahlVersuche += 1
        print(f"Versuch {anzahlVersuche}: {zahlenListe}")

    # Ausgabe der Anzahl der Versuche, bis die Liste sortiert war
    print(f"Die Liste ist sortiert! Anzahl der Versuche: {anzahlVersuche}")
    print("Fertig!")
    ```


    
